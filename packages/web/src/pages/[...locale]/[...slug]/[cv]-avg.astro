---
import { getDataPageCV, type PageCVProps } from 'src/utilities/api/pageCV';
import CVPage from './[cv].astro';
import { getStaticPathsFromData } from 'src/utilities/api/helpers/getStaticPathsFromData';

export async function getStaticPaths() {
	const data = await getDataPageCV();
	const staticPaths = getStaticPathsFromData({ data, fragment: 'cv' });

	return staticPaths;
}

interface Props {
	pageData: PageCVProps;
}

const { pageData } = Astro.props;
---

<CVPage pageData={pageData} avg />
