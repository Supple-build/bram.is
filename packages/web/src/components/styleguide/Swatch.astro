---
import type { HTMLAttributes } from 'astro/types';

interface Props extends HTMLAttributes<'div'> {
	color: string;
	accentColor?: string;
}

const { class: className, color, accentColor, ...attrs } = Astro.props;
---

<div
	class={`c-swatch | u-color--${color}${className ? ` | ${className}` : ''}`}
	{...attrs}
	style={`--c-swatch-color: var(--color--${color})`}
>
	<small>{color}</small>
</div>

<style lang="scss">
	@layer components {
		.c-swatch {
			--_c-swatch-color: var(--c-swatch-color, #ccc);
			padding: var(--s-space-milli);
			border: 1px solid black;
			&::before {
				display: block;
				inline-size: 100%;
				aspect-ratio: 1/1;
				background-color: var(--_c-swatch-color);
				content: '';
			}
		}
	}
</style>
