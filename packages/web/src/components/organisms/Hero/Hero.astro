---
import { type HTMLAttributes } from 'astro/types';

interface Props extends HTMLAttributes<'div'> {}

const { class: className, ...attrs } = Astro.props;
---

<header class={`c-hero${className ? ` | ${className}` : ''}`} {...attrs}>
	<div class="c-hero__wrap-visual">
		<img
			class="c-hero__visual"
			src="/images/avatar/lon-eye.webp"
			alt="Bram Smulders"
		/>
	</div>
	<div class="c-hero__body">
		<div class="o-flow">
			<hgroup>
				<h1>
					<span class="c-hero__salutation">Hi,</span>
					I'm <span class="u-color-brand-primary"> Bram Smulders</span>
				</h1>
				<p>
					A <span class="u-color-brand-primary">Front-end UI developer</span>
					from <span class="u-color-brand-primary">The Netherlands</span>.
				</p>
			</hgroup>
			<p>
				I work by the credo “Solve for one, extend to many”. This means I
				specialize in scalable code for apps and websites with a strong focus on
				accessibility, progressive enhancement and powerful, speedy development.
			</p>
		</div>
	</div>
</header>

<style lang="scss">
	@use '@supple-kit/css/settings/breakpoints';
	@use '@supple-kit/css/tools/responsive';

	@layer components {
		.c-hero {
			--hero-block-padding: var(--s-space-tera);
			--hero-image-size-min: 8rem;
			--hero-image-size-max: 30rem;
			--hero-image-size: minmax(
				calc(var(--hero-image-size-min) / 2),
				calc(var(--hero-image-size-max) / 2)
			);
			--hero-visual-inline-size: min(80%, 320px);
			--hero-visual-spacing: #{responsive.lock(8px, 24px, 'palm', 'desk')};
			--hero-visual-border-size: #{responsive.lock(2px, 5px, 'palm', 'desk')};
			display: grid;
			grid-template-rows:
				[full-start] var(--s-space-layer)
				[image-start] auto [bg-start] auto
				[image-end] var(--s-space-milli)
				[body-start] auto [body-end] var(--s-space-layer)
				[bg-end full-end];
			grid-template-columns:
				[full-start bg-start] var(--s-space-bleed)
				[image-start body-start] auto [body-end image-end] var(--s-space-bleed)
				[bg-end full-end];

			&:before {
				content: '';
				grid-area: image;
				border-radius: 100%;
				inline-size: var(--hero-visual-inline-size);
				aspect-ratio: 1 / 1;
				border: var(--hero-visual-border-size) solid
					var(--s-color-brand-secondary);
				place-self: center center;
			}
			&:after {
				content: '';
				grid-area: bg;
				background-color: var(--s-color-slate-background);
				z-index: 1;
			}
		}

		@media (--lap) {
			.c-hero {
				--hero-visual-inline-size: 100%;
				grid-template-rows: [full-start image-start bg-start body-start] 1fr [body-end bg-end full-end];
				grid-template-columns:
					[full-start] minmax(var(--s-space-bleed), auto)
					[image-start] var(--hero-image-size) [bg-start] var(--hero-image-size)
					[image-end] var(--s-space-base)
					[body-start] minmax(auto, 65ch) [body-end] minmax(
						var(--s-space-bleed),
						auto
					)
					[bg-end full-end];

				&:before {
					margin-block: var(--hero-block-padding);
				}

				&:after {
					border-end-start-radius: var(--s-space-layer-radius);
				}
			}
		}

		.c-hero__wrap-visual {
			inline-size: var(--hero-visual-inline-size);
			padding: calc(
				var(--hero-visual-spacing) + var(--hero-visual-border-size)
			);
			grid-area: image;
			z-index: 2;
			aspect-ratio: 1 / 1;
			place-self: center center;

			img {
				inline-size: 100%;
				aspect-ratio: 1 / 1;
				border-radius: 100%;
				object-fit: cover;
			}
		}

		.c-hero__body {
			grid-area: body;
			place-self: center start;
			z-index: 2;

			@media (--lap) {
				padding-block: var(--hero-body-block-padding, var(--s-space-kilo));
			}
		}

		.c-hero__salutation {
			display: block;
			font-size: var(--hero-salutaion-font-size, var(--s-font-size-600));
		}
	}
</style>
